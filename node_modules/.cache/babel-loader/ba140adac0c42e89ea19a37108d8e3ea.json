{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jospiesimac/Desktop/8. Web develoement/udemy-traversy/react weatherApp/weather-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jospiesimac/Desktop/8. Web develoement/udemy-traversy/react weatherApp/weather-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jospiesimac/Desktop/8. Web develoement/udemy-traversy/react weatherApp/weather-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import'weather-icons/css/weather-icons.css';import axios from'axios';import Layout from'./Layout';import Form from'./Form';import PropTypes from'prop-types';import Alert from'./Alert';var GetWeather=function GetWeather(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),weatherData=_useState2[0],setWeatherData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];useEffect(function(){function dataRetrieve(){return _dataRetrieve.apply(this,arguments);}function _dataRetrieve(){_dataRetrieve=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var city,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:city='Boston';_context.next=3;return axios.get(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&units=metric&appid=e9629992d0bde86eaddc6391f50171b7\"));case 3:res=_context.sent;weatherDisplay(res.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return _dataRetrieve.apply(this,arguments);}dataRetrieve();//eslint-disable-next-line\n},[]);var searchUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(text){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(text,\"&units=metric&appid=e9629992d0bde86eaddc6391f50171b7\"));case 3:res=_context2.sent;weatherDisplay(res.data);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);if(_context2.t0){setAlertMessage('City not on WorldWeather list');}case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function searchUser(_x){return _ref.apply(this,arguments);};}();var weatherDisplay=function weatherDisplay(result){var name=result.name;var country=result.sys.country;var _result$coord=result.coord,lat=_result$coord.lat,lon=_result$coord.lon;var _result$main=result.main,temp=_result$main.temp,temp_min=_result$main.temp_min,temp_max=_result$main.temp_max,feels_like=_result$main.feels_like,humidity=_result$main.humidity,pressure=_result$main.pressure;var _result$weather$=result.weather[0],description=_result$weather$.description,id=_result$weather$.id;var _result$wind=result.wind,speed=_result$wind.speed,deg=_result$wind.deg;setWeatherData({name:name,country:country,id:id,description:description,temp:temp.toFixed(0),feels_like:feels_like.toFixed(0),temp_min:temp_min.toFixed(0),temp_max:temp_max.toFixed(0),speed:speed,deg:deg,humidity:humidity,pressure:pressure,lat:lat.toFixed(1),lon:lon.toFixed(1),icon:getWeatherIcon(id)});getWeatherIcon(id);};var getWeatherIcon=function getWeatherIcon(rangeId){switch(true){case rangeId>=200&&rangeId<=232:return'wi-thunderstorm';case rangeId>=300&&rangeId<=321:return'wi-sleet';case rangeId>=500&&rangeId<=531:return'wi-storm-showers';case rangeId>=600&&rangeId<=622:return'wi-snow';case rangeId>=701&&rangeId<=781:return'wi-fog';case rangeId===800:return'wi-day-sunny';case rangeId>=801&&rangeId<=804:return'wi-day-fog';default:return'wi-day-fog';}};//set alert\nvar setAlertMessage=function setAlertMessage(msg){setAlert({msg:msg});setTimeout(function(){return setAlert(null);},2000);};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"h2\",null,\"WorldWeather\"),/*#__PURE__*/React.createElement(Form,{searchUser:searchUser,setAlertMessage:setAlertMessage}),/*#__PURE__*/React.createElement(Alert,{alert:alert}),/*#__PURE__*/React.createElement(Layout,{weatherData:weatherData})));};GetWeather.propType={searchUser:PropTypes.func.isRequired,setAlert:PropTypes.func.isRequired};export default GetWeather;","map":{"version":3,"sources":["/Users/jospiesimac/Desktop/8. Web develoement/udemy-traversy/react weatherApp/weather-app/client/src/components/GetWeather.js"],"names":["React","Fragment","useState","useEffect","axios","Layout","Form","PropTypes","Alert","GetWeather","weatherData","setWeatherData","alert","setAlert","dataRetrieve","city","get","res","weatherDisplay","data","searchUser","text","setAlertMessage","result","name","country","sys","coord","lat","lon","main","temp","temp_min","temp_max","feels_like","humidity","pressure","weather","description","id","wind","speed","deg","toFixed","icon","getWeatherIcon","rangeId","msg","setTimeout","propType","func","isRequired"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport 'weather-icons/css/weather-icons.css';\nimport axios from 'axios';\nimport Layout from './Layout';\nimport Form from './Form';\nimport PropTypes from 'prop-types';\nimport Alert from './Alert';\n\nconst GetWeather = () => {\n\tconst [weatherData, setWeatherData] = useState({});\n\n\tconst [alert, setAlert] = useState(null);\n\n\tuseEffect(() => {\n\t\tasync function dataRetrieve() {\n\t\t\tconst city = 'Boston';\n\t\t\tconst res = await axios.get(\n\t\t\t\t`http://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=e9629992d0bde86eaddc6391f50171b7`,\n\t\t\t);\n\n\t\t\tweatherDisplay(res.data);\n\t\t}\n\t\tdataRetrieve();\n\t\t//eslint-disable-next-line\n\t}, []);\n\n\tconst searchUser = async (text) => {\n\t\ttry {\n\t\t\tconst res = await axios.get(\n\t\t\t\t`http://api.openweathermap.org/data/2.5/weather?q=${text}&units=metric&appid=e9629992d0bde86eaddc6391f50171b7`,\n\t\t\t);\n\n\t\t\tweatherDisplay(res.data);\n\t\t} catch (error) {\n\t\t\tif (error) {\n\t\t\t\tsetAlertMessage('City not on WorldWeather list');\n\t\t\t}\n\t\t}\n\t};\n\n\tconst weatherDisplay = (result) => {\n\t\tconst { name } = result;\n\t\tconst { country } = result.sys;\n\t\tconst { lat, lon } = result.coord;\n\t\tconst {\n\t\t\ttemp,\n\t\t\ttemp_min,\n\t\t\ttemp_max,\n\t\t\tfeels_like,\n\t\t\thumidity,\n\t\t\tpressure,\n\t\t} = result.main;\n\t\tconst { description, id } = result.weather[0];\n\t\tconst { speed, deg } = result.wind;\n\n\t\tsetWeatherData({\n\t\t\tname,\n\t\t\tcountry,\n\t\t\tid,\n\t\t\tdescription,\n\t\t\ttemp: temp.toFixed(0),\n\t\t\tfeels_like: feels_like.toFixed(0),\n\t\t\ttemp_min: temp_min.toFixed(0),\n\t\t\ttemp_max: temp_max.toFixed(0),\n\t\t\tspeed,\n\t\t\tdeg,\n\t\t\thumidity,\n\t\t\tpressure,\n\t\t\tlat: lat.toFixed(1),\n\t\t\tlon: lon.toFixed(1),\n\t\t\ticon: getWeatherIcon(id),\n\t\t});\n\t\tgetWeatherIcon(id);\n\t};\n\n\tconst getWeatherIcon = (rangeId) => {\n\t\tswitch (true) {\n\t\t\tcase rangeId >= 200 && rangeId <= 232:\n\t\t\t\treturn 'wi-thunderstorm';\n\n\t\t\tcase rangeId >= 300 && rangeId <= 321:\n\t\t\t\treturn 'wi-sleet';\n\n\t\t\tcase rangeId >= 500 && rangeId <= 531:\n\t\t\t\treturn 'wi-storm-showers';\n\n\t\t\tcase rangeId >= 600 && rangeId <= 622:\n\t\t\t\treturn 'wi-snow';\n\n\t\t\tcase rangeId >= 701 && rangeId <= 781:\n\t\t\t\treturn 'wi-fog';\n\n\t\t\tcase rangeId === 800:\n\t\t\t\treturn 'wi-day-sunny';\n\n\t\t\tcase rangeId >= 801 && rangeId <= 804:\n\t\t\t\treturn 'wi-day-fog';\n\n\t\t\tdefault:\n\t\t\t\treturn 'wi-day-fog';\n\t\t}\n\t};\n\n\t//set alert\n\tconst setAlertMessage = (msg) => {\n\t\tsetAlert({ msg });\n\t\tsetTimeout(() => setAlert(null), 2000);\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className='App'>\n\t\t\t\t<h2>WorldWeather</h2>\n\t\t\t\t<Form searchUser={searchUser} setAlertMessage={setAlertMessage} />\n\t\t\t\t<Alert alert={alert} />\n\t\t\t\t<Layout weatherData={weatherData} />\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nGetWeather.propType = {\n\tsearchUser: PropTypes.func.isRequired,\n\tsetAlert: PropTypes.func.isRequired,\n};\n\nexport default GetWeather;\n"]},"metadata":{},"sourceType":"module"}